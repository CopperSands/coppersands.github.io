---
layout: post
title: "mDNS"
---

# What is mDNS?

mDNS is a local link DNS that does not require setup like a regular DNS server. Multicast Domain Name System (mDNS) is only for local discovery and will not resolve host names on the internet. mDNS uses the hostname plus `.local` top level domain. Each host that has mDNS enabled will be queried if a device on the network quires mDNS. The host with the queried name will respond. Reverse mapping to discover names through mDNS is also possible. Mac, printers, and some Linux distributions come with mDNS enabled by default. On other platforms like Windows, mDNS will have to be enabled. mDNS use UDP port 5353 as well as ephemeral ports. Additionally, you can query mDNS from a device that does not have mDNS enabled. 

There are some concerns about the security of mDNS in enterprise environments because it does not use an authoritative centralized DNS server to resolve local hostnames. This means that hosts decide who they are and this can possibly lead to a device that impersonates another. 

Using the `.local` TLD for a private domain with regular DNS entries will cause conflicts. More info can be found in [RFC6762](https://datatracker.ietf.org/doc/html/rfc6762).  


## Doing a reverse mDNS lookup

On windows you can use `Resolve-DnsName hostname`

On Linux you can use  the humble `ping hostname.local`  

If you want to see all mDNS enabled devices from Linux you can use `avahi-browse --all --resolve`. You will have to install the avahi-utils package if not already installed.  

## UFW and mDNS
If you enable UFW on a Linux device it will default allow mDNS to the device, even if the inbound default is deny.

